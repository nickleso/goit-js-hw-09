{"mappings":"YAAA,IAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,UAI7BC,EAAQ,EACRC,EAAY,EACZC,EAAS,EAuBb,SAASC,EAAcC,EAAUC,GAC/BD,GAAY,EACZE,QAAQC,IAAIH,EAAUI,OAAOH,IAEb,IAAII,SAAQ,SAACC,EAASC,GACpC,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAAEM,SAAAZ,EAAUa,MAAAZ,IAEpBM,EAAO,CAAEK,SAAAZ,EAAUa,MAAAZ,MAEpBA,MAIFa,MAAK,SAAAC,G,IAAGC,EAAQD,EAARH,SAAUK,EAAKF,EAALF,MACjBX,QAAQC,IAAI,uBAAwCe,OAAfF,EAAS,QAAYE,OAAND,EAAM,UAE3DE,OAAM,SAAAJ,G,IAAGC,EAAQD,EAARH,SAAUK,EAAKF,EAALF,MAClBX,QAAQC,IAAI,sBAAqCe,OAAfF,EAAS,QAAYE,OAAND,EAAM,UA1C7DzB,EAAKC,OAAO2B,iBAAiB,UAY7B,SAAgBC,GACdA,EAAMC,iBAEN,IAAK,IAAIC,EAAI,EAAGA,EAAIzB,EAAQyB,GAAK,EAC/B3B,EAAQQ,OAAOR,GAASQ,OAAOP,GAC/BE,EAAcwB,EAAG3B,MAfrBJ,EAAKC,OAAO2B,iBAAiB,SAE7B,WAKE,OAJAxB,EAAQJ,EAAKC,OAAO+B,SAAS,GAAGC,MAChC5B,EAAYL,EAAKC,OAAO+B,SAAS,GAAGC,MACpC3B,EAASN,EAAKC,OAAO+B,SAAS,GAAGC,MAE1B,CAAEZ,MAAAjB,EAAO8B,UAAA7B,EAAW8B,OAAA7B,M","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.form'),\n};\n\nlet position = 0;\nlet delay = 0;\nlet delayStep = 0;\nlet amount = 0;\n\nrefs.formEl.addEventListener('submit', create);\n// refs.formEl.addEventListener('submit', createPromise);\nrefs.formEl.addEventListener('input', onFormInput);\n\nfunction onFormInput() {\n  delay = refs.formEl.elements[0].value;\n  delayStep = refs.formEl.elements[1].value;\n  amount = refs.formEl.elements[2].value;\n\n  return { delay, delayStep, amount };\n}\n\nfunction create(event) {\n  event.preventDefault();\n\n  for (let i = 0; i < amount; i += 1) {\n    delay = Number(delay) + Number(delayStep);\n    createPromise(i, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  position += 1;\n  console.log(position, Number(delay));\n\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n"],"names":["$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$createPromise","position1","delay1","console","log","Number","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","delay","then","param","_$position","_$delay","concat","catch","addEventListener","event","preventDefault","i","elements","value","delayStep","amount"],"version":3,"file":"03-promises.c932dacd.js.map"}