{"mappings":"AAAA,MAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,UAGjC,IACIC,EAAQ,EACRC,EAAY,EACZC,EAAS,EAuBb,SAASC,EAAcC,EAAUC,GAC/BD,GAAY,EACZE,QAAQC,IAAIH,EAAUI,OAAOH,IAEb,IAAII,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,CAAEM,SAAAZ,EAAUa,MAAAZ,IAEpBM,EAAO,CAAEK,SAAAZ,EAAUa,MAAAZ,MAEpBA,MAIFa,MAAK,EAAGF,SAAAG,EAAUF,MAAAG,MACjBd,QAAQC,IAAI,uBAAqBY,QAAiBC,UAEnDC,OAAM,EAAGL,SAAAM,EAAUL,MAAAM,MAClBjB,QAAQC,IAAI,sBAAoBe,QAAeC,UA1CrD3B,EAAKC,OAAO2B,iBAAiB,UAY7B,SAAgBC,GACdA,EAAMC,iBAEN,IAAK,IAAIC,EAAI,EAAGA,EAAIzB,EAAQyB,GAAK,EAC/B3B,EAAQQ,OAAOR,GAASQ,OAAOP,GAC/BE,EAAcwB,EAAG3B,MAfrBJ,EAAKC,OAAO2B,iBAAiB,SAE7B,WAKE,OAJAxB,EAAQJ,EAAKC,OAAO+B,SAAS,GAAGC,MAChC5B,EAAYL,EAAKC,OAAO+B,SAAS,GAAGC,MACpC3B,EAASN,EAAKC,OAAO+B,SAAS,GAAGC,MAE1B,C,MAAE7B,E,UAAOC,E,OAAWC","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.form'),\n};\n\nlet position = 0;\nlet delay = 0;\nlet delayStep = 0;\nlet amount = 0;\n\nrefs.formEl.addEventListener('submit', create);\n// refs.formEl.addEventListener('submit', createPromise);\nrefs.formEl.addEventListener('input', onFormInput);\n\nfunction onFormInput() {\n  delay = refs.formEl.elements[0].value;\n  delayStep = refs.formEl.elements[1].value;\n  amount = refs.formEl.elements[2].value;\n\n  return { delay, delayStep, amount };\n}\n\nfunction create(event) {\n  event.preventDefault();\n\n  for (let i = 0; i < amount; i += 1) {\n    delay = Number(delay) + Number(delayStep);\n    createPromise(i, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  position += 1;\n  console.log(position, Number(delay));\n\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n"],"names":["$47d4ff9957288465$var$refs","formEl","document","querySelector","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","position1","delay1","console","log","Number","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","delay","then","position2","delay2","catch","position3","delay3","addEventListener","event","preventDefault","i","elements","value"],"version":3,"file":"03-promises.b1139512.js.map"}